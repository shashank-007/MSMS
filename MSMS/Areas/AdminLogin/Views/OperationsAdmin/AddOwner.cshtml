
@{
    ViewBag.Title = "AddOwner";
    Layout = "~/Areas/AdminLogin/Views/Shared/_OperationalAdminLayout.cshtml";
}

<h2>AddOwner</h2>
<script src="~/Scripts/jquery-1.12.4.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        if (window.sessionStorage.getItem("AdminID" == null)) {
            window.location = "Login";
        }
        else {
            var Register = $("#btnRegister");

            Register.click(function () {
                var EmailId = $("#txtEmailId");
                var Name = $("#txtName");
                var Password = $("#txtPwd");
                var Age = $("#txtAge");
                var Gender = $("input[name='Gender']:checked").length;
                var Phone = $("#txtPhone");
                var PanNum = $("#txtPan");
                var Aadharno = $("#txtAadhar");
                var PAddress = $("#txtPAddress");
                var CAddress = $("#txtCAddress");
                var Status = $("input[name='Status']:checked").length;

                //if (AdminType.val() == "") {
                //    alert("Please Enter Employee Name...!");
                //    return false;
                //}

                //if (Name.val() == "") {
                //    alert("Please Enter Employee Name...!");
                //    return false;
                //} else if (!isNaN(Name.val())) {
                //    alert("Please Enter Charectors only...!");
                //    return false;
                //}

                //if (Password.val() == null) {
                //    alert("Please Enter Password...!");
                //    return false;
                //}

                //if (Age.val() == "") {
                //    alert("Please Enter Employee Name...!");
                //    return false;
                //}

                //if (Gender == 0) {
                //    alert("Please Select Gender...!");
                //    return false;
                //}

                //if (Phone.val() == null) {
                //    alert("Please Enter Phone number...!");
                //    return false;
                //}

                //if (PanNum == "") {
                //    alert("Please Select PanNumber...!");
                //    return false;
                //}

                //if (Aadharno == "") {
                //    alert("Please Select AadharNo...!");
                //    return false;
                //}

                //if (PAddress.val() == null) {
                //    alert("Please Enter Address...!");
                //    return false;
                //}

                //if (CAddress.val() == null) {
                //    alert("Please Enter Address...!");
                //    return false;
                //}

                //if (Status == 0) {
                //    alert("Please Select Status...!");
                //    return false;
                //}

                var obj = {
                "Owner_Email": EmailId.val(),
                "Name": Name.val(),
                "Password": Password.val(),
                "Age": Age.val(),
                "Gender": $("input[name='Gender']:checked").val(),
                "Phone": Phone.val(),
                "Pan_Number": PanNum.val(),
                "Aadhar_Number": Aadharno.val(),
                "Permanent_Address": PAddress.val(),
                "Current_Address": CAddress.val(),
                "Status": $("input[name='Status']:checked").val()
                }

                $.ajax({
                    type: "post",
                    url: "https://localhost:44339/api/AdminLogin/WebApiOA/AddOwner",
                    dataType: "json",
                    data: JSON.stringify(obj),
                    contentType:"application/json",
                    //contentType: false,
                    //processData: false,
                    success: function (data) {
                        if (data) {
                            alert("Record Was Created Successfully...!");
                            window.sessionStorage.setItem("Email", data.Owner_Email);   
                            window.location = "AddStore";
                        }
                        else {
                            alert("Something Went Wrong...!");
                        }
                    },
                    error: function (XHR) {
                        var responseData = JSON.parse(XHR.responseText);
                        alert(XHR.status + ":" + responseData.Message);
                    }

                });
                return true;
            });

        }
    });
</script>

<div class="row">
    <div class="col-sm-12">
        <div class="row" style="text-align:center;color:red;margin-bottom:20px;">
            <div class="col-sm-12">
                <h2>Add Owner</h2>
            </div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Email Id</div>
            <div class="col-sm-4">
                <input type="text" id="txtEmailId" name="txtAdminId" class="form-control" placeholder="Enter AdminId" />
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Name</div>
            <div class="col-sm-4">
                <input type="text" id="txtName" name="txtName" class="form-control" placeholder="Enter Admin Name" />
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Password</div>
            <div class="col-sm-4">
                <input type="password" id="txtPwd" name="txtPwd" class="form-control" placeholder="Enter Password" />
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Age</div>
            <div class="col-sm-4">
                <input type="text" id="txtAge" name="txtAge" class="form-control" placeholder="Enter Age" />
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Gender</div>
            <div class="col-sm-4">
                <input type="radio" id="rbtnMale" name="Gender" value="Male" />Male
                <input type="radio" id="rbtnFemale" name="Gender" value="Female" />Female
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Phone</div>
            <div class="col-sm-4">
                <input type="text" id="txtPhone" name="txtPhone" class="form-control" placeholder="Enter Phone Number" />
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Pan Number</div>
            <div class="col-sm-4">
                @*<input type="text" id="txtPan" name="txtPan" class="form-control" placeholder="Enter Pan Number" />*@
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Aadhar Number</div>
            <div class="col-sm-4">
                @*<input type="text" id="txtAadhar" name="txtAadhar" class="form-control" placeholder="Enter Aadhar Number" />*@
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Permanent Address</div>
            <div class="col-sm-4">
                <textarea id="txtPAddress" name="txtPAddress" class="form-control" placeholder="Enter Permanent Address" rows="5"></textarea>
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Current Address</div>
            <div class="col-sm-4">
                <textarea id="txtCAddress" name="txtCAddress" class="form-control" placeholder="Enter Current Address" rows="5"></textarea>
            </div>
            <div class="col-sm-2"></div>
        </div>
        @*<div class="row" style="margin-bottom:10px">
            <div class="col-md-2"> </div>
            <div class="col-md-4">Photo</div>
            <div class="col-md-3">
                <input type="file" id="image" />
                <div class="row">
                    <div class="col-sm-12">
                        <div id="imagePreview" class="thumbnail" style="display:none;">
                            <img class="img-responsive" id="targetImg" />
                            <div class="caption">
                                <a href="#" onclick="ClearPreview();"><i class="glyphicon glyphicon-trash"></i></a>
                                <p id="description"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3"> </div>
        </div>*@
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="font-weight:bold">Status</div>
            <div class="col-sm-4">
                <input type="radio" id="rbtnAct" name="Status" value="Active" />Active
                <input type="radio" id="rbtnInact" name="Status" value="InActive" />InActive
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-top:60px;text-align:center;">
            <div class="col-sm-2"></div>
            <div class="col-sm-4" style="margin-top:2px;">
                <input type="submit" id="btnRegister" name="Register" value="Register" class="btn btn-primary" />
            </div>
            <div class="col-sm-4">
                <input type="submit" id="btnCancel" name="Register" value="Cancel" class="btn btn-danger" />
            </div>
            <div class="col-sm-2"></div>
        </div>
        <div class="row" style="margin-bottom:15px;">
            <div class="col-sm-3"></div>
            <div class="col-sm-3" style="font-weight:bold"></div>
            <div class="col-sm-3"></div>
            <div class="col-sm-3"></div>
        </div>
    </div>
</div>